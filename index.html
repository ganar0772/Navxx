<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pro Browser | No Ads</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body, html { margin: 0; padding: 0; height: 100vh; width: 100vw; overflow: hidden; background: #121212; font-family: sans-serif; }
        
        /* Barra de dirección superior */
        .nav-bar {
            height: 60px; background: #1f1f1f; display: flex; align-items: center;
            padding: 0 15px; gap: 10px; border-bottom: 1px solid #333;
        }

        .search-input {
            flex-grow: 1; background: #333; border: none; border-radius: 25px;
            padding: 10px 20px; color: white; outline: none; font-size: 14px;
        }

        /* El contenedor de la web */
        #browser-container {
            width: 100%; height: calc(100vh - 120px); background: #fff;
        }

        iframe { width: 100%; height: 100%; border: none; }

        /* Barra de herramientas inferior (estilo App) */
        .bottom-bar {
            height: 60px; background: #1f1f1f; display: flex;
            justify-content: space-around; align-items: center; border-top: 1px solid #333;
        }

        .tool-btn { color: #bbb; font-size: 20px; cursor: pointer; transition: 0.3s; }
        .tool-btn:active { color: #3b82f6; transform: scale(0.9); }
    </style>
</head>
<body>

    <div class="nav-bar">
        <button onclick="goHome()" class="tool-btn"><i class="fa-solid fa-house-chimney"></i></button>
        <input type="text" id="url-input" class="search-input" placeholder="Busca o escribe URL..." onkeydown="if(event.key==='Enter') navigate()">
        <button onclick="navigate()" class="tool-btn text-blue-500"><i class="fa-solid fa-paper-plane"></i></button>
    </div>

    <div id="browser-container">
        <iframe id="web-view" src="https://www.google.com/search?igu=1"></iframe>
    </div>

    <div class="bottom-bar">
        <button onclick="goBack()" class="tool-btn"><i class="fa-solid fa-arrow-left"></i></button>
        <button onclick="goForward()" class="tool-btn"><i class="fa-solid fa-arrow-right"></i></button>
        <button onclick="refresh()" class="tool-btn"><i class="fa-solid fa-rotate-right"></i></button>
        <button onclick="openYouTube()" class="tool-btn text-red-500"><i class="fa-brands fa-youtube"></i></button>
    </div>

    <script>
        const iframe = document.getElementById('web-view');
        const input = document.getElementById('url-input');

        function navigate() {
            let url = input.value.trim();
            if (!url) return;

            // Si no es una URL, buscamos en Google
            if (!url.includes('.') || url.includes(' ')) {
                url = "https://www.google.com/search?q=" + encodeURIComponent(url) + "&igu=1";
            } else {
                if (!url.startsWith('http')) url = 'https://' + url;
            }

            // TRUCO PARA YOUTUBE: Si es youtube, usamos el modo embed para que no rechace conexión
            if (url.includes("youtube.com/watch?v=")) {
                const id = url.split("v=")[1].split("&")[0];
                url = "https://www.youtube.com/embed/" + id;
            }

            iframe.src = url;
        }

        function goHome() {
            iframe.src = "https://www.google.com/search?igu=1";
            input.value = "";
        }

        function openYouTube() {
            iframe.src = "https://www.youtube.com/embed/?listType=trending"; // Portada de videos
            input.value = "YouTube";
        }

        // Navegación básica
        function goBack() { window.history.back(); }
        function goForward() { window.history.forward(); }
        function refresh() { iframe.src = iframe.src; }

        // Script inyectado para limpiar anuncios (Ejecutar continuamente)
        setInterval(() => {
            try {
                const doc = iframe.contentDocument || iframe.contentWindow.document;
                const ads = doc.querySelectorAll('.ad, .ads, .advertising, [id*="google_ads"], [class*="banner"], .ytp-ad-overlay-container');
                ads.forEach(ad => ad.remove());
            } catch (e) {
                // Si el sitio bloquea acceso por seguridad, el bloqueo se hará mediante Web2App
            }
        }, 2000);
    </script>
</body>
</html>
